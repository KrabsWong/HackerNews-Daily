name = "hacknews-daily-export"
main = "dist/worker/index.js"
compatibility_date = "2024-12-11"
compatibility_flags = ["nodejs_compat"]

# Enable observability features
observability = { enabled = true }

# Log level configuration (default: "log", options: "none", "error", "warn", "log", "debug")
[env.production]
log_level = "log"

[env.dev]
log_level = "debug"

[vars]
HN_STORY_LIMIT = "30"
HN_TIME_WINDOW_HOURS = "24"
SUMMARY_MAX_LENGTH = "300"
ENABLE_CONTENT_FILTER = "false"
CONTENT_FILTER_SENSITIVITY = "medium"
CACHE_ENABLED = "false"
LLM_BATCH_SIZE = "15"

# REQUIRED: Set these before deploying (uncomment and change values)
LLM_PROVIDER = "deepseek"
TARGET_REPO = "KrabsWong/tldr-hacknews-24"
TARGET_BRANCH = "main"

[triggers]
crons = ["15 0 * * *"]
